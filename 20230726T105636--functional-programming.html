<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="介绍函数式编程的基本概念">
<link rel="alternate"
      type="application/rss+xml"
      href="https://oahnukuw.github.io/feed.xml"
      title="RSS feed for https://oahnukuw.github.io/">
<title>函数式编程是什么？</title>
<meta name="author" content="oahnukuw">
<meta name="referrer" content="no-referrer">
<meta content="width=device-width, initial-scale=1" name="viewport" />
<link href="static/style.css" rel="stylesheet" type="text/css" />
<link rel="icon" href="static/favicon.ico" type="image/x-icon"/>
<link rel="icon" type="image/png" sizes="32x32" href="static/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="static/favicon-16x16.png">
</head>
<body>
<div id="preamble" class="status"><!-- define useful svg icons -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="github" viewBox="0 0 16 16">
    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
  </symbol>
  <symbol id="linkedin" viewBox="0 0 16 16">
    <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
  </symbol>
  <symbol id="rss-fill" viewBox="0 0 16 16">
    <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2zm0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2zm.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
  </symbol>
</svg>

<div class="header">
  <!-- <img src="static/monkey.png"/> -->
  <a class="page-title" href="https://oahnukuw.github.io">@oahnukuw</a>
  <span class="menu-links">
    <a href="about.html">about</a> |
    <a href="projects.html">projects</a> |
    <a href="archive.html">archive</a> |
    <a href="feed.xml">
      <svg class="menu-icons"><use href="#rss-fill"/></svg>
    </a> |
  </span>
</div>
<hr class="preamble-sep" />
</div>
<div id="content">
<div class="post-date">06 Aug 2024</div><h1 class="post-title"><a href="https://oahnukuw.github.io/20230726T105636--functional-programming.html">函数式编程是什么？</a></h1>
<nav id="table-of-contents" role="doc-toc">
<h2> <a href="javascript:window.scrollTo(0,0)" style="color: black !important;" class="tooltip" title="Go to the top of the page">Ξ </a> </h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org7373c7d">1. functional-programming.concept.immutable-data</a></li>
<li><a href="#orgbcdc6e6">2. functional-programming.concept.no-side-effects</a></li>
<li><a href="#org52588e9">3. functional-programming.concept.higher-order-function</a></li>
<li><a href="#org565bfbe">4. functional-programming.vs.lang.java.object-oriented-programming</a></li>
<li><a href="#orgbc2d1f9">5. References</a></li>
</ul>
</div>
</nav>
<p>
当谈到函数式编程的特点时，两个关键概念是不可变数据（Immutable Data）和无副作用（No Side Effects）。
</p>

<div id="outline-container-org7373c7d" class="outline-2">
<h2 id="org7373c7d"><span class="section-number-2">1.</span> functional-programming.concept.immutable-data</h2>
<div class="outline-text-2" id="text-1">
<p>
在函数式编程中，数据一旦被创建就不可更改。这意味着，一旦你创建了一个对象，你不能直接修改它的状态，而是通过创建一个新的对象来表达数据的变化。这种不可变性有助于避免并发问题，使得代码更容易推理和测试，并且在多线程环境下更加安全。
</p>

<p>
在 Java 中，String 类就是一个典型的不可变类。一旦你创建了一个字符串对象，它的值就不能被修改。
</p>

<div class="org-src-container">
<pre class="src src-java">
```java
String str = <span style="color: #7FC1CA;">"Hello"</span>;
<span style="color: #899BA6;">// </span><span style="color: #899BA6;">&#19981;&#33021;&#20462;&#25913;&#23383;&#31526;&#20018;&#30340;&#20869;&#23481;&#65292;&#21482;&#33021;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#23383;&#31526;&#20018;&#23545;&#35937;</span>
<span style="color: #A8CE93;">String</span> <span style="color: #DF8C8C;">newStr</span> = str + <span style="color: #7FC1CA;">" World"</span>;
```
</pre>
</div>

<p>
可见 <a href="../../main/20230620T105636--ja_wms_notes.html#ID-b9a01c8e-bc88-490f-a056-f3995fe8ef3a">functional-programming.java.mapper-insert-invade-immutable-data</a> 的例子，实现这一特性。
</p>
</div>
</div>
<div id="outline-container-orgbcdc6e6" class="outline-2">
<h2 id="orgbcdc6e6"><span class="section-number-2">2.</span> functional-programming.concept.no-side-effects</h2>
<div class="outline-text-2" id="text-2">
<p>
函数式编程强调函数的计算过程不应该产生对除了函数返回值以外的其他外部状态的影响。这意味着函数不应该修改任何可变的全局变量、类属性或引起其他的状态变化。函数的计算过程应该是纯粹的，只依赖于输入参数，并始终产生相同的输出结果。
</p>

<p>
在 Java 中，下面是一个例子展示了带有副作用和无副作用的函数：
</p>

<div class="org-src-container">
<pre class="src src-java">
```java
<span style="color: #899BA6;">// </span><span style="color: #899BA6;">&#24102;&#26377;&#21103;&#20316;&#29992;&#30340;&#20989;&#25968;</span>
<span style="color: #A8CE93;">int</span> globalVar = <span style="color: #7FC1CA; font-weight: bold;">0</span>;

<span style="color: #A8CE93;">void</span> <span style="color: #83AFE5;">addToGlobalVar</span>(<span style="color: #A8CE93;">int</span> <span style="color: #DF8C8C;">value</span>) {
    globalVar += value; <span style="color: #899BA6;">// </span><span style="color: #899BA6;">&#20462;&#25913;&#20840;&#23616;&#21464;&#37327;&#65292;&#20135;&#29983;&#21103;&#20316;&#29992;</span>
}

<span style="color: #899BA6;">// </span><span style="color: #899BA6;">&#26080;&#21103;&#20316;&#29992;&#30340;&#20989;&#25968;</span>
<span style="color: #A8CE93;">int</span> <span style="color: #83AFE5;">add</span>(<span style="color: #A8CE93;">int</span> <span style="color: #DF8C8C;">a</span>, <span style="color: #A8CE93;">int</span> <span style="color: #DF8C8C;">b</span>) {
    <span style="color: #9A93E1;">return</span> a + b; <span style="color: #899BA6;">// </span><span style="color: #899BA6;">&#32431;&#31929;&#30340;&#20989;&#25968;&#65292;&#27809;&#26377;&#21103;&#20316;&#29992;</span>
}
```
</pre>
</div>

<p>
在上面的例子中，`addToGlobalVar` 函数修改了全局变量 `globalVar` 的值，产生了副作用。而 `add` 函数是一个纯粹的函数，它只依赖于输入参数 `a` 和 `b`，并返回它们的和，没有产生任何副作用。
</p>

<p>
函数式编程中的不可变数据和无副作用的特点使得代码更容易推理和理解，更容易进行测试和并行处理，也有助于避免一些常见的编程错误。这些特点是函数式编程范式的重要优势。
</p>
</div>
</div>

<div id="outline-container-org52588e9" class="outline-2">
<h2 id="org52588e9"><span class="section-number-2">3.</span> functional-programming.concept.higher-order-function</h2>
<div class="outline-text-2" id="text-3">
<p>
（Higher-Order Function）是指可以接受一个或多个函数作为参数，并/或返回一个函数作为结果的函数。换句话说，它是将函数作为一等公民对待的编程语言特性。在函数式编程中，高阶函数是一种常见的概念，它允许函数作为数据进行操作，从而实现更加灵活和抽象的编程方式。
</p>

<p>
在支持高阶函数的编程语言中，函数可以像普通数据类型一样被传递、赋值给变量，也可以作为函数的返回值。
</p>

<p>
以下是一个简单的例子来说明高阶函数的概念，使用 Python 的代码示例：
</p>

<div class="org-src-container">
<pre class="src src-java">
```python
# &#23450;&#20041;&#19968;&#20010;&#39640;&#38454;&#20989;&#25968;&#65292;&#25509;&#21463;&#19968;&#20010;&#20989;&#25968;&#20316;&#20026;&#21442;&#25968;
def apply_operation(operation, a, b):
    <span style="color: #9A93E1;">return</span> operation(a, b)

# &#23450;&#20041;&#20004;&#20010;&#31616;&#21333;&#30340;&#25805;&#20316;&#20989;&#25968;
def add(a, b):
    <span style="color: #9A93E1;">return</span> a + b

def multiply(a, b):
    <span style="color: #9A93E1;">return</span> a * b

# &#20351;&#29992;&#39640;&#38454;&#20989;&#25968;&#65292;&#23558;&#25805;&#20316;&#20989;&#25968;&#20316;&#20026;&#21442;&#25968;&#20256;&#36882;
result1 = apply_operation(add, <span style="color: #7FC1CA; font-weight: bold;">2</span>, <span style="color: #7FC1CA; font-weight: bold;">3</span>)       # &#31561;&#21516;&#20110;&#35843;&#29992; add(<span style="color: #7FC1CA; font-weight: bold;">2</span>, <span style="color: #7FC1CA; font-weight: bold;">3</span>)&#65292;&#32467;&#26524;&#20026; <span style="color: #7FC1CA; font-weight: bold;">5</span>
result2 = apply_operation(multiply, <span style="color: #7FC1CA; font-weight: bold;">2</span>, <span style="color: #7FC1CA; font-weight: bold;">3</span>)  # &#31561;&#21516;&#20110;&#35843;&#29992; multiply(<span style="color: #7FC1CA; font-weight: bold;">2</span>, <span style="color: #7FC1CA; font-weight: bold;">3</span>)&#65292;&#32467;&#26524;&#20026; <span style="color: #7FC1CA; font-weight: bold;">6</span>
```
</pre>
</div>

<p>
在这个例子中，`apply_operation` 就是一个高阶函数。它接受一个函数作为第一个参数 `operation`，然后将后面的 `a` 和 `b` 参数传递给这个函数，并返回它的结果。
</p>

<p>
高阶函数的优点在于它可以促进代码的重用性和灵活性。通过将函数作为参数传递，我们可以在不修改高阶函数的情况下，轻松地改变其行为。这样的抽象能力在函数式编程中非常重要，允许我们编写更加简洁、灵活和可维护的代码。高阶函数也是许多函数式编程中的常用模式和技巧。
</p>
</div>
</div>

<div id="outline-container-org565bfbe" class="outline-2">
<h2 id="org565bfbe"><span class="section-number-2">4.</span> functional-programming.vs.<a href="20240806T182547--java_features_that_i_learned.html#ID-e656f383-398e-445b-b095-0456920b69ea">lang.java.object-oriented-programming</a></h2>
<div class="outline-text-2" id="text-4">
<p>
函数式编程可以很好地融合到，面向对象编程中。
</p>

<p>
对于系统开发，如果以功能项作为划分，则按照功能去实现，会导致代码与功能高耦合。当变动功能时，重构难度很大，而面向对象对业务进行抽象，把功能看成若干对象的交互。当功能发生变化时，只需要改变对象的交互方式，而不是对功能进行重构。
</p>

<p>
而函数式编程的 <a href="#org7373c7d">不可变数据（Immutable Data）</a> 以及调用的 <a href="#orgbcdc6e6">无副作用（No Side Effects）</a> 均能够在对象交互层面提供更高的健壮性。
</p>

<p>
Java 8 引入的 <a href="20240806T182547--java_features_that_i_learned.html#ID-37c13a3f-cff9-4698-9aea-d557b94cbd51">Lambda 表达式（Java）</a> 就是一个很好的例子，输入一个 List 可以对其进行各种操作，再按照传入的函数处理返回一个期望的数据结构。
</p>

<blockquote>
<p>
Master the functional programming paradigm so you are able to judiciously apply the lessons learned to other domains. Your object systems (for one) will resonate with referential transparency goodness and be much closer to their functional counterparts than many would have you believe. In fact, some would even assert that the apex of functional programming and object orientation are merely a reflection of each other, a form of computational yin and yang ——By Edward Garson
</p>
</blockquote>

<p>
对于面向对象编程，在拆解业务逻辑的过程中，尽量写不干预入参的办法，在参数处理层面采用命令式的编程范式，在参数处理内部使用函数式编程，划分成一个个处理单元，进而对函数的返回值，进行进一步的处理。
</p>

<p>
对于业务逻辑之外，整体呈现的是面向抽象编程的范式。真正做到从细节到框架上的代码健壮性，更高的可维护性。
</p>
</div>
</div>

<div id="outline-container-orgbc2d1f9" class="outline-2">
<h2 id="orgbc2d1f9"><span class="section-number-2">5.</span> References</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>ChatGpt-3.5: 函数式编程的特点包括不可变数据、无副作用，可以详细解释下么？给出 java 语言中的例子</li>
<li>Apply Functional Programming Principles · 97 Things Every Programmer Should Know (no date). Available at: <a href="https://97-things-every-x-should-know.gitbooks.io/97-things-every-programmer-should-know/content/en/thing_02/">https://97-things-every-x-should-know.gitbooks.io/97-things-every-programmer-should-know/content/en/thing_02/</a> (Accessed: 26 July 2023).</li>
</ul>
</div>
</div>
<div class="taglist"><a href="https://oahnukuw.github.io/tags.html">Tags</a>: <a href="https://oahnukuw.github.io/tag-blog.java.html">blog.java</a> </div></div>
<div id="postamble" class="status"><center>
  <div class="footer-networks">
    <ul>
      <li>
	<a class="d-flex align-items-center" href="https://github.com/oahnukuw" rel="noreferrer">
          <svg class="footer-networks-icons"><use href="#github"></use></svg>
          <span class="social-name">GitHub</span>
	</a>
      </li>
    </ul>
  </div>
  <div class="copyright">
<a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br /><span xmlns:dct="https://purl.org/dc/terms/" href="https://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">oahnukuw.github.io</span> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://oahnukuw.github.io" property="cc:attributionName" rel="cc:attributionURL">Oahnukuw</a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
  </div>
</center>
</div>
</body>
</html>
